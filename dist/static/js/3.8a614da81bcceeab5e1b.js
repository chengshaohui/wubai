webpackJsonp([3],{"16cA":function(n,e,t){var i=t("l+4a");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("rjj0")("454bd4f2",i,!0,{})},"8x0Q":function(n,e){},ZhW5:function(n,e){var t=void 0,i=function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("boolean"==typeof e)t&&clearTimeout(t);else if(n(!0),o){var a=!t;t=setTimeout(function(){t=null},i),a&&e()}else t=setTimeout(function(){e(),t=null},i)};n.exports=i},jT7l:function(n,e,t){"use strict";function i(n){t("16cA")}Object.defineProperty(e,"__esModule",{value:!0});var o=t("Xxa5"),a=t.n(o),s=t("exGp"),r=t.n(s),l=t("8x0Q"),A=t("M9A7"),c=t("ZhW5"),d=t.n(c),p=null,u={name:"login",data:function(){return{IMG_OSS_LOGO:l.IMG_OSS_LOGO,IMG_OSS_PHONE:l.IMG_OSS_PHONE,IMG_OSS_LOCK:l.IMG_OSS_LOCK,isInAppType:!1,isGetCode:!0,time:59,tel:"",code:""}},created:function(){},mounted:function(){window.onBack=this.onBack},methods:{onBack:function(){this.$router.go(-1)},closeTip:function(){this.isInAppType=!0},handleCode:function(){var n=this,e={tel:{name:"手机号",type:"validMobile",value:this.tel,required:!0}};this._onCheck(e)&&d()(function(){return n._onCode()},1e3)},_onCode:function(){var n=this;return r()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.isGetCode=!1,t={tel:n.tel},Object(A.a)(t).then(function(e){var t=e.data,i=t.code,o=(t.data,t.message);200===i?(n._onTime(),n.isGetCode=!1,n.$vux.toast.text("验证码发送成功")):(n.isGetCode=!0,n.$vux.toast.text(o))}).catch(function(){n.isGetCode=!0,n.$vux.toast.text("网络出错,请稍后重试")});case 3:case"end":return e.stop()}},e,n)}))()},handleLogin:function(){var n={tel:{name:"手机号",type:"validMobile",value:this.tel,required:!0},code:{name:"验证码",type:"validPostalCode",value:this.code,required:!0}};this._onCheck(n)&&this._onLogin()},_onTime:function(){var n=this;p=setInterval(function(){--n.time<=0&&(clearInterval(p),n.isGetCode=!0,n.time=59)},1e3)},_onLogin:function(){var n=this;return r()(a.a.mark(function e(){var t,i,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.$utils.localData.get("shopId"),i=n.$utils.localData.get("shareInfo"),o={},i&&"undefined"!==i&&(o=JSON.parse(i)||{}),s={tel:n.tel,verifycode:n.code,foruid:o.uid||0,gid:o.adviserId||null,sid:t&&"undefined"!==t?t:null},Object(A.b)(s).then(function(e){var t=e.data,i=t.code,o=t.data,a=t.message;200===i?(n.$utils.localData.set("uid",o.uid),n.$utils.localData.set("tel",o.tel),n.$utils.localData.set("token",o.token),n.$utils.localData.set("userType",o.userType),n.$vux.toast.text("成功登录"),n.$router.go(-1)):n.$vux.toast.text(a)}).catch(function(){n.$vux.toast.text("网络出错，请稍后重试")});case 6:case"end":return e.stop()}},e,n)}))()},handleToAgreement:function(){this.$router.push({name:"useragreement"})},_onCheck:function(n){var e=this.$utils.dataValidity(n);return!!e.status||(this.$vux.toast.text(e.error),!1)}}},g=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"p-login g-bg-f9f9f9"},[t("img",{staticClass:"_avatar g-flex g-jc-c",attrs:{src:n.IMG_OSS_LOGO}}),n._v(" "),t("main",{staticClass:"center g-width g-flex g-jc-c g-fw-w"},[t("div",{staticClass:"_item g-bg-white g-flex g-jc-fs g-ai-c"},[t("img",{staticClass:"_img g-fs-0",attrs:{src:n.IMG_OSS_PHONE}}),n._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:n.tel,expression:"tel"}],staticClass:"__input g-width-80p g-fs-16",attrs:{type:"number",maxlength:"11",placeholder:"请输入手机号"},domProps:{value:n.tel},on:{input:function(e){e.target.composing||(n.tel=e.target.value)}}})]),n._v(" "),t("div",{staticClass:"_item g-bg-white g-flex g-jc-fs g-ai-c g-m-t-10"},[t("img",{staticClass:"_img g-fs-0",attrs:{src:n.IMG_OSS_LOCK}}),n._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:n.code,expression:"code"}],staticClass:"__input g-width-80p g-fs-16",attrs:{type:"number",maxlength:"4",placeholder:"验证码"},domProps:{value:n.code},on:{input:function(e){e.target.composing||(n.code=e.target.value)}}}),n._v(" "),n.isGetCode?t("div",{staticClass:"g-bt-orange-s g-m-r-10",on:{click:n.handleCode}},[n._v("发送验证码")]):n._e(),n._v(" "),n.isGetCode?n._e():t("div",{staticClass:"g-bt-gray-s g-m-r-10"},[n._v("重新获取("+n._s(n.time)+")")])]),n._v(" "),t("div",{staticClass:"g-bt-orange-l g-m-t-30",on:{click:n.handleLogin}},[n._v("登录")]),n._v(" "),t("div",{staticClass:"g-m-t-10 g-fs-12"},[n._v("登录即同意\n      "),t("span",{staticClass:"g-c-orange",on:{click:n.handleToAgreement}},[n._v("《吾同用户协议》")])])])])},C=[],h={render:g,staticRenderFns:C},f=h,v=t("VU/8"),m=i,x=v(u,f,!1,m,null,null);e.default=x.exports},"l+4a":function(n,e,t){e=n.exports=t("FZ+f")(!0),e.push([n.i,"/**\n* 字体模块\n*/\n.font_color_212121 {\n  color: #212121;\n}\n/**\n* 文档流模块\n*/\n.pos_r {\n  position: relative;\n}\n.pos_a {\n  position: absolute;\n}\n.pos_f {\n  position: fixed;\n}\n.pos_f_top {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n/*\n* vux x-header\n*/\n.p-login header {\n  padding-bottom: 8px;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.p-login header .back {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  line-height: 32px;\n  border-radius: 16px;\n  background-color: black;\n  text-align: center;\n  opacity: 0.3;\n  position: fixed;\n  z-index: 10;\n  left: 0.16rem;\n  top: 1rem;\n}\n.p-login header .back i.iconfont {\n  color: white;\n  font-size: 0.36rem;\n}\n.p-login ._avatar {\n  width: 100px;\n  height: 68px;\n  overflow: hidden;\n  margin: 20% auto 20px;\n}\n.p-login .center {\n  height: 200px;\n  padding: 30px 0;\n}\n.p-login .center ._item {\n  width: 295px;\n  height: 48px;\n  border-radius: 100px;\n}\n.p-login .center ._img {\n  width: 48px;\n  height: 48px;\n}\n.p-login .center .__input {\n  height: 30px;\n}\n","",{version:3,sources:["/Users/hehuan/Documents/my/私活/code/wubai/src/pages/login/index.vue"],names:[],mappings:"AAAA;;EAEE;AACF;EACE,eAAe;CAChB;AACD;;EAEE;AACF;EACE,mBAAmB;CACpB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;EAChB,OAAO;EACP,QAAQ;EACR,SAAS;CACV;AACD;;EAEE;AACF;EACE,oBAAoB;EACpB,mBAAmB;EACnB,OAAO;EACP,QAAQ;CACT;AACD;EACE,sBAAsB;EACtB,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,oBAAoB;EACpB,wBAAwB;EACxB,mBAAmB;EACnB,aAAa;EACb,gBAAgB;EAChB,YAAY;EACZ,cAAc;EACd,UAAU;CACX;AACD;EACE,aAAa;EACb,mBAAmB;CACpB;AACD;EACE,aAAa;EACb,aAAa;EACb,iBAAiB;EACjB,sBAAsB;CACvB;AACD;EACE,cAAc;EACd,gBAAgB;CACjB;AACD;EACE,aAAa;EACb,aAAa;EACb,qBAAqB;CACtB;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,aAAa;CACd",file:"index.vue",sourcesContent:["/**\n* 字体模块\n*/\n.font_color_212121 {\n  color: #212121;\n}\n/**\n* 文档流模块\n*/\n.pos_r {\n  position: relative;\n}\n.pos_a {\n  position: absolute;\n}\n.pos_f {\n  position: fixed;\n}\n.pos_f_top {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n/*\n* vux x-header\n*/\n.p-login header {\n  padding-bottom: 8px;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.p-login header .back {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  line-height: 32px;\n  border-radius: 16px;\n  background-color: black;\n  text-align: center;\n  opacity: 0.3;\n  position: fixed;\n  z-index: 10;\n  left: 0.16rem;\n  top: 1rem;\n}\n.p-login header .back i.iconfont {\n  color: white;\n  font-size: 0.36rem;\n}\n.p-login ._avatar {\n  width: 100px;\n  height: 68px;\n  overflow: hidden;\n  margin: 20% auto 20px;\n}\n.p-login .center {\n  height: 200px;\n  padding: 30px 0;\n}\n.p-login .center ._item {\n  width: 295px;\n  height: 48px;\n  border-radius: 100px;\n}\n.p-login .center ._img {\n  width: 48px;\n  height: 48px;\n}\n.p-login .center .__input {\n  height: 30px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=3.8a614da81bcceeab5e1b.js.map